"use strict";angular.module("wailtnewApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/activity",{templateUrl:"views/activity.html",controller:"ActivityCtrl"}).when("/favorites",{templateUrl:"views/favorites.html",controller:"FavoritesCtrl"}).otherwise({redirectTo:"/"})}]).directive("imageonload",["$timeout",function(a){return{restrict:"ACE",link:function(a,b,c){b.bind("load",function(){angular.element(document.getElementsByClassName("preloader")).addClass("loaded"),setTimeout(function(){angular.element(document.getElementsByClassName("preloader")).addClass("hidden")},1e3)})}}}]),angular.module("wailtnewApp").controller("MainCtrl",["$scope","$http",function(a,b){b.get(BASE_URL+"&method=user.getRecentTracks&user=guapo15").then(function(b){var c=b.data.recenttracks.track[0],d=c.image[3],e=d["#text"];a.MRTname=c.name,a.MRTartist=c.artist["#text"],a.url=e,console.log(b),a.currentlyListening=c["@attr"].nowplaying,console.log(a.currentlyListening)})}]);var BASE_URL="http://ws.audioscrobbler.com/2.0/?api_key=3d386c221b36c1442b384aa1d853bc8c&format=json",IMG_URL="";angular.module("wailtnewApp").controller("ActivityCtrl",["$scope","$http",function(a,b){b.get(BASE_URL+"&method=user.getRecentTracks&user=guapo15").then(function(b){var c=b.data.recenttracks.track[0],d=c.image[3],e=d["#text"];a.MRTname=c.name,a.MRTartist=c.artist["#text"],a.url=e,IMG_URL=a.url,a.recents=b.data.recenttracks.track,console.log(b)})}]);var BASE_URL="http://ws.audioscrobbler.com/2.0/?api_key=3d386c221b36c1442b384aa1d853bc8c&format=json";angular.module("wailtnewApp").controller("FavoritesCtrl",["$scope","$http",function(a,b){a.categories=[{name:"Track",value:"tracks"},{name:"Album",value:"albums"},{name:"Artist",value:"artists"}],a.category=a.categories[0],a.times=[{period:"Week",value:"7day"},{period:"3 Months",value:"3month"},{period:"6 Months",value:"6month"},{period:"Year",value:"12month"},{period:"Overall",value:"overall"}],a.time=a.times[4],a.top=null,b.get(BASE_URL+"&method=user.gettoptracks&user=guapo15&period="+a.time.period).then(function(b){console.log(b),a.top=b.data.toptracks.track}),a.update=function(){var c=BASE_URL+"&method=user.gettop"+a.category.value+"&user=guapo15&period="+a.time.value;b.get(c).then(function(b){angular.equals(a.category.value,"tracks")?a.top=b.data.toptracks.track:angular.equals(a.category.value,"albums")?a.top=b.data.topalbums.album:a.top=b.data.topartists.artist})}}]);